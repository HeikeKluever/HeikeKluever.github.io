\documentclass[12pt,a4paper]{article}

% ==== Font & Encoding for LuaLaTeX ====
\usepackage{fontspec}
\usepackage{microtype}
\usepackage[hyphens]{url}
\usepackage{xurl}

% ==== BibLaTeX setup ====
\usepackage[
  backend=biber,
  style=authoryear,
  sorting=nyt
]{biblatex}
\addbibresource{/github/workspace/_bibliography/publications.bib}

% ==== Define filters for later grouping ====
\defbibfilter{books}{type=book}
\defbibfilter{articles}{type=article}
\defbibfilter{miscitems}{type=misc}

% ==== Counters to detect empty categories ====
\usepackage{etoolbox}
\newcounter{cntbooks}
\newcounter{cntarticles}
\newcounter{cntmisc}
\AtEveryBibitem{%
  \ifentrytype{book}{\stepcounter{cntbooks}}{}%
  \ifentrytype{article}{\stepcounter{cntarticles}}{}%
  \ifentrytype{misc}{\stepcounter{cntmisc}}{}%
}

% ==== Tuning bibliography line breaks ====
\AtBeginBibliography{%
  \sloppy
  \setlength\emergencystretch{3em}%
}

\begin{document}

% Pull in all entries once
\nocite{*}

% ===== Books =====
\section*{Books}
\ifnum\value{cntbooks}>0
  \printbibliography[
    filter=books,
    heading=none
  ]
\else
  
\fi

% ===== Articles =====
\section*{Articles}
\ifnum\value{cntarticles}>0
  \printbibliography[
    filter=articles,
    heading=none
  ]
\else
  
\fi

% ===== Working Papers =====
\section*{Working Papers}
\ifnum\value{cntmisc}>0
  \printbibliography[
    filter=miscitems,
    heading=none
  ]
\else
  
\fi

\end{document}